document.addEventListener('DOMContentLoaded',()=>{const y=document.getElementById('year');if(y)y.textContent=new Date().getFullYear()});const root=document.documentElement,themeBtn=document.getElementById('themeToggle');if(localStorage.getItem('theme')==='light')root.setAttribute('data-theme-light','true');themeBtn?.addEventListener('click',()=>{if(root.getAttribute('data-theme-light')==='true'){root.removeAttribute('data-theme-light');localStorage.removeItem('theme')}else{root.setAttribute('data-theme-light','true');localStorage.setItem('theme','light')}});const hamburger=document.getElementById('hamburger'),navLinks=document.getElementById('navLinks');hamburger?.addEventListener('click',()=>{if(navLinks.style.display==='flex'){navLinks.style.display='none'}else{navLinks.style.display='flex';navLinks.style.flexDirection='column';navLinks.style.gap='12px';navLinks.style.background='rgba(11,18,32,.95)';navLinks.style.position='absolute';navLinks.style.right='16px';navLinks.style.top='60px';navLinks.style.padding='12px';navLinks.style.border='1px solid rgba(148,163,184,.15)';navLinks.style.borderRadius='12px';navLinks.style.backdropFilter='blur(8px)'}});const words=["Hi, I’m Vinoth — Java Developer.","I build scalable backends with Spring Boot.","I craft modern UIs with React/Next.js.","I ship AI features with OpenAI."];let wi=0,ci=0,del=false;const target=document.getElementById('typewriter');function tick(){const w=words[wi];if(!del){ci++;if(ci===w.length+6){del=true;setTimeout(tick,700);return}}else{ci--;if(ci===0){del=false;wi=(wi+1)%words.length}}if(target)target.textContent=w.slice(0,Math.max(0,ci));setTimeout(tick,del?35:45)}tick();const io=new IntersectionObserver(e=>{for(const t of e)if(t.isIntersecting){t.target.classList.add('show');io.unobserve(t.target)}},{threshold:.12});document.querySelectorAll('.reveal,.item,.skill,.card').forEach(e=>io.observe(e));document.querySelectorAll('.tilt').forEach(e=>{e.addEventListener('mousemove',t=>{const o=e.getBoundingClientRect(),n=t.clientX-o.left,a=t.clientY-o.top,s=n/o.width,r=a/o.height,c=(r-.5)*8,d=(s-.5)*-8;e.style.transform=`perspective(900px) rotateX(${c}deg) rotateY(${d}deg) translateY(-4px)`}),e.addEventListener('mouseleave',()=>{e.style.transform=''})});document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener('click',t=>{const o=e.getAttribute('href');if(!o||o==='#')return;const n=document.querySelector(o);if(!n)return;t.preventDefault(),n.scrollIntoView({behavior:'smooth',block:'start'}),history.pushState(null,'',o)})});